<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libadc-cxx: Application Data Collection (C++)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libadc-cxx<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">Structured logging for scientific computing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Application Data Collection (C++) </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Application Data Collection: Structured logging for scientific computing. </p>
<h1><a class="anchor" id="purpose"></a>
Purpose (why)</h1>
<p>The ADC project aims to provide workflow metadata collection for all scientific computing environments and workflow stages. Here 'metadata' means small, structured descriptions of:</p><ul>
<li>what is planned (such as a campaign of multiple jobs, or in a single job being submitted)</li>
<li>what is happening (such as the data sizes and features in an individual execution or rank of a parallel execution)</li>
<li>what has happened (such as scalar progress indicators or final results)</li>
</ul>
<p>These <em>complement</em> large data flows such as:</p><ul>
<li>time-series hardware metrics (papi, LDMS)</li>
<li>call-profiling data (caliper, kokkos, gprof, ...)</li>
<li>lists of particle or geometric entities and associated engineering or physics data (hdf5, netcdf, exodus, commercial CAD formats)</li>
</ul>
<p>The metadata logged is intended for analysis during or after the current workflow step to allow:</p><ul>
<li>other tooling to influence subsequent steps, such as compute resource selection.</li>
<li>users to track workflow progress.</li>
<li>performance analysts to correlate and predict performance based on simulation metadata.</li>
<li>software developers and managers to prioritize feature work based on usage.</li>
<li>software agents to detect when system performance is below expectations.</li>
</ul>
<h1><a class="anchor" id="data"></a>
Output (what)</h1>
<p>ADC produces <em>semi-structured</em>, extensible json messages. Some json objects have standardized names and contents; these are included in a message if a convenience function is called to add them to the message. If specific names are present, the associated values have standard origins. Other objects have minimally defined fields, with the rest of the fields being up to the application. Where common json libraries exist, the application may also attach arbitrary json objects to a message; this support varies by implementation language. The <a class="el" href="classadc_1_1builder__api.html">adc::builder_api</a> provides a rich set of convenience functions for constructing and customizing ADC messages that capture scientific programming data types.</p>
<h1><a class="anchor" id="environments"></a>
Environments (where)</h1>
<p>Scientific workflows span desktop, server, and cluster environments. Critical information is usually added (or first exposed) at each stage. Linux environments are directly supported as well as Windows environments connected through Java.</p>
<h1><a class="anchor" id="bindings"></a>
Languages (how)</h1>
<p>Initially, C++, Python, Java are supported, and likely this will expand to C, Fortran and JavaScript. Documented here is the C++17 standard library-based binding that has optional support for MPI. This binding follows the Factory pattern (<a class="el" href="classadc_1_1factory.html">adc::factory</a>). The factory provides json builder objects and publisher objects.</p>
<p>A header-only binding (which, however, adds a boost dependency to the application build) is also in development.</p>
<h1><a class="anchor" id="library"></a>
Linking</h1>
<ul>
<li>Linking with -ladc-c++ provides a factory-based API without MPI dependencies.</li>
<li>Linking with -ladc-c++-mpi provides a factory-based API with MPI library dependencies.</li>
</ul>
<h1><a class="anchor" id="publishers"></a>
Performance</h1>
<p>The data collected is published as the application runs, and is fully labeled with data types for downstream interpretation up to decades into the future.</p>
<p>A variety of plugins implement the <a class="el" href="classadc_1_1publisher__api.html">adc::publisher_api</a> to ensure transmission performance and overhead demands are met for each scientific environment. Messages can be sent directly to the REST-based infrastructure, or (in HPC scenarios) routed through any bus which can support json (such as LDMS or a cache file).</p>
<h1><a class="anchor" id="apilist"></a>
Just show me the code:</h1>
<p>APIs:</p><ul>
<li><a class="el" href="classadc_1_1factory.html">adc::factory</a></li>
<li><a class="el" href="classadc_1_1builder__api.html">adc::builder_api</a></li>
<li><a class="el" href="classadc_1_1publisher__api.html">adc::publisher_api</a></li>
</ul>
<p>Examples:</p><ul>
<li><a class="el" href="mpiSimpleDemo_8cpp.html">mpiSimpleDemo.cpp</a> demonstrates instrumenting a trivial MPI program. </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
